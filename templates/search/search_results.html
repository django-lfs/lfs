{% extends "base.html" %}
{% load i18n lfs_tags pagination_tags %}

{% block content %}
    
    <h2>{% trans 'Search results' %}</h2>
    <p>
        {% trans 'You searched for' %} <span class="search-results-phrase">"{{phrase}}"</span>.         
        {% blocktrans count products|length as counter %}There has been found 1 product.{% plural %}There has been found {{ counter }} products.{% endblocktrans %}
    </p>

    {% autopaginate products 5 %}
    {% paginate %}

    <table id="search-results-table">
        <tr>
            <th>{% trans 'Image' %}</th>
            <th>{% trans 'Product' %}</th>
            <th class="number">
                {% trans 'Price' %}
            </th>
        </tr>
        {% for product in products %}
            <tr class="{% cycle 'even' 'odd' %}">
                <td>
                    <a href="{{product.get_absolute_url}}">
                        <img src="{{product.get_image.url_60x60}}"
                             alt="{{product.name}}" 
                             title="{{product.name}}" />
                    </a>     
                </td>
                <td class="text">
                    <a href="{{product.get_absolute_url}}">                    
                        {{product.name}}
                    </a>
                </td>
                <td class="number">
                    {{product.price|currency}}
                </td>
            </tr>
        {% endfor %}
    </table>    
{% endblock %}